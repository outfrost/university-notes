# BezpieczeÅ„stwo sieci komputerowych
## Sprawozdanie z laboratorium

Data				| TytuÅ‚ zajÄ™Ä‡							| Uczestnicy				
--------------------|---------------------------------------|---------------------------
30.10.2018 16:10	| Kryptografia							| Iwo Bujkiewicz (226203)

### Wyniki realizacji zadaÅ„

#### Zadanie 2.

Podczas generowania pary kluczy przy uÅ¼yciu wtyczki Enigmail w programie Thunderbird wybrano rodzaj klucza `Elliptic Curve`, co zaowocowaÅ‚o wygenerowaniem klucza Ed25519, oraz brak terminu waÅ¼noÅ›ci. Kryptografia oparta o klucze Ed25519 uwaÅ¼ana jest za nieco skuteczniejszÄ… od opartej o klucze RSA (czÄ™sto nawet w postaci 4096-bitowej), jednak nie jest tak powszechnie wykorzystywana ze wzglÄ™du na kompatybilnoÅ›Ä‡ wstecznÄ….

![Generowanie pary kluczy przy uÅ¼yciu Enigmail](img/img01.png)
_Generowanie pary kluczy przy uÅ¼yciu Enigmail_

![Klucz publiczny wygenerowany przy uÅ¼yciu Enigmail](img/img02.png)
_Klucz publiczny wygenerowany przy uÅ¼yciu Enigmail_

Podczas generowania pary kluczy przy uÅ¼yciu GNU Privacy Assistant wybrano domyÅ›lny rodza klucza RSA w postaci 2048-bitowej oraz brak terminu waÅ¼noÅ›Ä‡i.

![Generowanie pary kluczy przy uÅ¼ciu GPA](img/img04.png)
_Generowanie pary kluczy przy uÅ¼ciu GPA_

![Para kluczy wygenerowana przy uÅ¼yciu GPA](img/img05.png)
_Para kluczy wygenerowana przy uÅ¼yciu GPA_

Podczas generowania pary kluczy przy uÅ¼yciu CLI GPG wybrano generowanie 4096-bitowego klucza RSA oraz termin waÅ¼noÅ›ci okreÅ›lony na 2 lata.

![Generowanie pary kluczy przy uÅ¼yciu CLI GPG](img/img07.png)
_Generowanie pary kluczy przy uÅ¼yciu CLI GPG_

![Generowanie pary kluczy przy uÅ¼yciu CLI GPG](img/img08.png)
_Generowanie pary kluczy przy uÅ¼yciu CLI GPG_

![Klucz publiczny wygenerowany przy uÅ¼yciu CLI GPG](img/img09.png)
_Klucz publiczny wygenerowany przy uÅ¼yciu CLI GPG_

Dla Å¼adnego z kluczy prywatnych nie ustalono hasÅ‚a szyfrujÄ…cego klucz podczas przechowywania. Do wykonania kolejnych zadaÅ„ wybrano parÄ™ 4096-bitowych kluczy RSA.

<div class="page-break"></div>

#### Zadanie 3.

![Klucze publiczny i prywatny wyeksportowane do plikÃ³w](img/img30.png)
_Klucze publiczny i prywatny wyeksportowane do plikÃ³w_

![Klucze publiczny i prywatny wyeksportowane do plikÃ³w](img/img31.png)
_Klucze publiczny i prywatny wyeksportowane do plikÃ³w_

```
74D86D6F9B9F372FD28C8D07F7BA1AE17D0A1E9B
```
_Odcisk klucza publicznego_

<div class="page-break"></div>

#### Zadanie 4.

Klucz publiczny wyeksportowano na serwer `pgp.mit.edu`.

![Eksport klucza publicznego na serwer kluczy i wyszukiwanie klucza na serwerze kluczy](img/img10.png)
_Eksport klucza publicznego na serwer kluczy i wyszukiwanie klucza na serwerze kluczy_

Klucz moÅ¼na uniewaÅ¼niÄ‡, importujÄ…c w GPG certyfikat uniewaÅ¼nienia klucza, a nastÄ™pnie wysyÅ‚ajÄ…c zmodyfikowany w ten sposÃ³b klucz na serwery kluczy oraz do indywidualnych osÃ³b i organizacji.

![Wycinek manuala GPG - sposÃ³b uniewaÅ¼nienia klucza](img/img11.png)
_Wycinek manuala GPG - sposÃ³b uniewaÅ¼nienia klucza_

<div class="page-break"></div>

#### Zadanie 5.

Z uwagi na wykonywanie zadania w grupie Ã³wczas jednoosobowej, wygenerowany zostaÅ‚ dodatkowy klucz fikcyjnej osoby.

![Podpisywanie zaimportowanego klucza publicznego](img/img12.png)
_Podpisywanie zaimportowanego klucza publicznego_

![Podpisany zaimportowany klucz publiczny](img/img13.png)
_Podpisany zaimportowany klucz publiczny_

<div class="page-break"></div>

#### Zadanie 6.

Plik tekstowy zostaÅ‚Â podpisany przy uÅ¼yciu nastÄ™pujÄ…cej komendy.

```sh
$ gpg --default-key 7D0A1E9B --sign Bujkiewicz.txt
```

![ZawartoÅ›Ä‡Â pliku tekstowego](img/img14.png)
_ZawartoÅ›Ä‡Â pliku tekstowego_

![Plik tekstowy podpisany przy uÅ¼yciu CLI GPG](img/img15.png)
_Plik tekstowy podpisany przy uÅ¼yciu CLI GPG_

![Weryfikacja podpisu przy uÅ¼yciu GPA](img/img16.png)
_Weryfikacja podpisu przy uÅ¼yciu GPA_

#### Zadanie 7.

![Podpis pliku PDF z instrukcjÄ…](img/img17.png)
_Podpis pliku PDF z instrukcjÄ…_

#### Zadanie 8.

W GPA operacje na plikach wykonywane sÄ… za poÅ›rednictwem okna `File Manager`, ktÃ³re umoÅ¼liwia ich szyfrowanie, deszyfrowanie, podpisywanie oraz weryfikacjÄ™Â podpisÃ³w. Zaszyfrowany zostaÅ‚Â ten sam plik, ktÃ³ry byÅ‚ uÅ¼yty do zadania 6. Jako odbiorca zaszyfrowanego kluczem publicznym pliku wybrany zostaÅ‚ posiadacz gÅ‚Ã³wnego klucza prywatnego uÅ¼ywanego w Ä‡wiczeniu.

![Plik zaszyfrowany przy uÅ¼yciu GPA](img/img18.png)
_Plik zaszyfrowany przy uÅ¼yciu GPA_

![Plik odszyfrowany przy uÅ¼yciu CLI GPG](img/img19.png)
_Plik odszyfrowany przy uÅ¼yciu CLI GPG_

<div class="page-break"></div>

#### Zadanie 9.

Zaszyfrowany zostaÅ‚Â ten sam plik, ktÃ³ry byÅ‚ uÅ¼yty do zadania 6. Jako odbiorca zaszyfrowanego kluczem publicznym pliku wybrany zostaÅ‚ posiadacz gÅ‚Ã³wnego klucza prywatnego uÅ¼ywanego w Ä‡wiczeniu.

![Plik zaszyfrowany przy uÅ¼yciu CLI GPG](img/img20.png)
_Plik zaszyfrowany przy uÅ¼yciu CLI GPG_

![Plik odszyfrowany przy uÅ¼yciu GPA](img/img21.png)
_Plik odszyfrowany przy uÅ¼yciu GPA_

<div class="page-break"></div>

#### Zadanie 10.

![Klucz prowadzÄ…cego pobrany z serwera kluczy](img/img22.png)
_Klucz prowadzÄ…cego pobrany z serwera kluczy_

#### Zadanie 11.

WÅ‚aÅ›ciwy plik z treÅ›ciÄ…Â zadania 11. zostaÅ‚Â zidentyfikowany poprzez weryfikacjÄ™ podpisu kaÅ¼dego z plikÃ³w. Zrzut ekranu demonstruje uÅ¼yte komendy.

![Weryfikacja sygnatur plikÃ³w z treÅ›ciÄ… zadania](img/img23.png)
_Weryfikacja sygnatur plikÃ³w z treÅ›ciÄ… zadania_

NastÄ™pnie plik tekstowy zostaÅ‚ wyodrÄ™bniony z pliku z podpisem i odczytany w terminalu. Ze wzglÄ™du na kodowanie tekstu uÅ¼yte podczas zapisu pliku (`windows-1250`, zamiast `UTF-8`) przy wyÅ›wietlaniu zawartoÅ›ci pliku terminal napotkaÅ‚ nieznane znaki.

![Zweryfikowana treÅ›Ä‡ zadania 11.](img/img24.png)
_Zweryfikowana treÅ›Ä‡ zadania 11._

Zadanie polegaÅ‚o na stworzeniu pliku tekstowego, zaszyfrowaniu go algorytmem AES-192 z kluczem `LABORKA`, i sprawdzeniu jego zawartoÅ›ci po zaszyfrowaniu oraz sumy kontrolnej SHA1.

```
Iwo
```
_TreÅ›Ä‡ pliku `Bujkiewicz-11.txt` przed zaszyfrowaniem_

```sh
$ gpg -c --cipher-algo aes192 Bujkiewicz-11.txt
```
_Komenda szyfrujÄ…ca_

```
ï¿½
cï¿½ï¿½ï¿½ENï¿½ï¿½ï¿½Jï¿½'ï¿½%6ï¿½S}!	ï¿½ï¿½Jrï¿½ï¿½ï¿½Ê‚ï¿½<oï¿½Oï¿½ï¿½ï¿½#ï¿½Nï¿½F^7ï¿½
mï¿½ï¿½Eu-ï¿½,dï¿½âï¿½ï¿½ï¿½ï¿½'8ï¿½Wï¿½ï¿½v0?
```
_TreÅ›Ä‡Â pliku po zaszyfrowaniu (tekstowa reprezentacja pliku binarnego)_

```
c46ce2f4d4a1101c19acf0097b872a0a2f65d926
```
_Suma kontrolna SHA1_

<div class="page-break"></div>

#### Zadanie 12.

Z uwagi na wykonywanie Ä‡wiczenia w grupie Ã³wczas jednoosobowej, wiadomoÅ›Ä‡ email zostaÅ‚a zaszyfrowana, podpisana i wysÅ‚ana na wÅ‚asny adres email.

![WysyÅ‚ana wiadomoÅ›Ä‡ email](img/img25.png)
_WysyÅ‚ana wiadomoÅ›Ä‡ email_

Enigmail automatycznie weryfikuje podpis i odszyfrowuje wiadomoÅ›Ä‡ przy odebraniu jej w poprawnej postaci.

![Odebrana wiadomoÅ›Ä‡ email, odszyfrowana po pomyÅ›lnej weryfikacji podpisu](img/img26.png)
_Odebrana wiadomoÅ›Ä‡ email, odszyfrowana po pomyÅ›lnej weryfikacji podpisu_

<div class="page-break"></div>

#### Zadanie 13.

Do porÃ³wnania wybrano algorytmy: domyÅ›lny (AES-128), AES-256 oraz Twofish. Szyfrowany byÅ‚ plik o identycznej zawartoÅ›ci, jak w zadaniu 6. WielkoÅ›Ä‡ zaszyfrowanych plikÃ³w okazaÅ‚a siÄ™ byÄ‡ identycza dla tych trzech algorytmÃ³w, rÃ³Å¼niÅ‚y siÄ™Â one natomiast oczywiÅ›cie zawartoÅ›ciÄ….

![Szyfrowanie symetryczne przy uÅ¼yciu domyÅ›lnego algorytmu - AES-128](img/img28.png)
_Szyfrowanie symetryczne przy uÅ¼yciu domyÅ›lnego algorytmu - AES-128_

![Szyfrowanie symetryczne przy uÅ¼yciu algorytmÃ³w AES-256 oraz Twofish; porÃ³wnanie rozmiarÃ³w plikÃ³w](img/img27.png)
_Szyfrowanie symetryczne przy uÅ¼yciu algorytmÃ³w AES-256 oraz Twofish; porÃ³wnanie rozmiarÃ³w plikÃ³w_

![PorÃ³wnanie zawartoÅ›ci zaszyfrowanych plikÃ³w](img/img29.png)
_PorÃ³wnanie zawartoÅ›ci zaszyfrowanych plikÃ³w_
